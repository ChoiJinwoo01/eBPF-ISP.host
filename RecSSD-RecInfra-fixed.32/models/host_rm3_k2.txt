Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
4355
8702
13096
17427
21733
26082
30407
34799
39098
43487
Running networks
All done here, cleaning up
Cache hitrate: 34.2875
Bye, world...
Total SLS load time: *** 17252.6051998  ms
Total UNVME lib time: *** 12560.8239174  ms
Total computation time: *** 604.236841202  ms
Total computation time: *** 1.510592103  ms/iter
Total execution time: *** 17856.842041  ms
Total execution time: *** 44.6421051025  ms/iter

---- Test end ----
Filtered hit rate_min: 22.75
Filtered hit rate_max: 52.0
---- Batch latency ----
P99: 54.05402183532715
P90: 50.071001052856445
P50: 45.59683799743652

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
7317
14602
21949
29202
36480
43847
51172
58452
65697
72973
Running networks
All done here, cleaning up
Cache hitrate: 33.483125
Bye, world...
Total SLS load time: *** 34374.1042614  ms
Total UNVME lib time: *** 24872.5633621  ms
Total computation time: *** 699.967622757  ms
Total computation time: *** 1.74991905689  ms/iter
Total execution time: *** 35074.0718842  ms
Total execution time: *** 87.6851797104  ms/iter

---- Test end ----
Filtered hit rate_min: 26.35
Filtered hit rate_max: 63.24999999999999
---- Batch latency ----
P99: 104.94399070739746
P90: 98.6480712890625
P50: 90.7139778137207

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
11948
23854
35825
47781
59690
71635
83589
95503
107484
119411
Running networks
All done here, cleaning up
Cache hitrate: 31.1646875
Bye, world...
Total SLS load time: *** 72035.3169441  ms
Total UNVME lib time: *** 52611.4289761  ms
Total computation time: *** 1147.83596992  ms
Total computation time: *** 2.86958992481  ms/iter
Total execution time: *** 73183.152914  ms
Total execution time: *** 182.957882285  ms/iter

---- Test end ----
Filtered hit rate_min: 26.625
Filtered hit rate_max: 47.5
---- Batch latency ----
P99: 202.91495323181152
P90: 193.94207000732422
P50: 185.75000762939453

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
21575
43267
64799
86354
108024
129626
151125
172741
194304
215781
Running networks
All done here, cleaning up
Cache hitrate: 30.62234375
Bye, world...
Total SLS load time: *** 144169.429541  ms
Total UNVME lib time: *** 105044.980288  ms
Total computation time: *** 1629.76741791  ms
Total computation time: *** 4.07441854477  ms/iter
Total execution time: *** 145799.196959  ms
Total execution time: *** 364.497992396  ms/iter

---- Test end ----
Filtered hit rate_min: 28.4375
Filtered hit rate_max: 48.5
---- Batch latency ----
P99: 395.4281806945801
P90: 384.7019672393799
P50: 368.07894706726074

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
39805
79730
119669
159583
199452
239466
279466
319383
359281
399088
Running networks
All done here, cleaning up
Cache hitrate: 30.5059375
Bye, world...
Total SLS load time: *** 285490.815639  ms
Total UNVME lib time: *** 208398.353338  ms
Total computation time: *** 2066.26939774  ms
Total computation time: *** 5.16567349434  ms/iter
Total execution time: *** 287557.085037  ms
Total execution time: *** 718.892712593  ms/iter

---- Test end ----
Filtered hit rate_min: 28.9375
Filtered hit rate_max: 47.8125
---- Batch latency ----
P99: 765.2468681335449
P90: 748.4941482543945
P50: 724.2310047149658

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
75208
150438
225944
301237
376433
451707
526918
602175
677384
752708
Running networks
All done here, cleaning up
Cache hitrate: 30.3098046875
Bye, world...
Total SLS load time: *** 577125.39506  ms
Total UNVME lib time: *** 420865.633011  ms
Total computation time: *** 3034.05189514  ms
Total computation time: *** 7.58512973785  ms/iter
Total execution time: *** 580159.446955  ms
Total execution time: *** 1450.39861739  ms/iter

---- Test end ----
Filtered hit rate_min: 29.45
Filtered hit rate_max: 43.953125
---- Batch latency ----
P99: 1523.7400531768799
P90: 1499.71604347229
P50: 1456.4809799194336

--------------------Running (RM3) CPU Test with Batch Size 1--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 1 --max_mini_batch_size 1 --sls_type base --data_generation synthetic --data_trace_file input_k2/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 2--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 2 --max_mini_batch_size 2 --sls_type base --data_generation synthetic --data_trace_file input_k2/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 4--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 4 --max_mini_batch_size 4 --sls_type base --data_generation synthetic --data_trace_file input_k2/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 8--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 8 --max_mini_batch_size 8 --sls_type base --data_generation synthetic --data_trace_file input_k2/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 16--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 16 --max_mini_batch_size 16 --sls_type base --data_generation synthetic --data_trace_file input_k2/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 32--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 32 --max_mini_batch_size 32 --sls_type base --data_generation synthetic --data_trace_file input_k2/dist_emb_j.log
