Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
5509
10959
16454
21915
27317
32790
38260
43715
49117
54605
Running networks
All done here, cleaning up
Cache hitrate: 49.79625
Bye, world...
Total SLS load time: *** 13564.3894672  ms
Total UNVME lib time: *** 9482.98072815  ms
Total computation time: *** 608.988523483  ms
Total computation time: *** 1.52247130871  ms/iter
Total execution time: *** 14173.3779907  ms
Total execution time: *** 35.4334449768  ms/iter

---- Test end ----
Filtered hit rate_min: 36.5
Filtered hit rate_max: 66.5
---- Batch latency ----
P99: 44.836997985839844
P90: 41.79191589355469
P50: 35.97712516784668

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
7872
15812
23751
31662
39573
47455
55373
63199
71103
79002
Running networks
All done here, cleaning up
Cache hitrate: 48.283125
Bye, world...
Total SLS load time: *** 27728.1911373  ms
Total UNVME lib time: *** 19530.7269096  ms
Total computation time: *** 701.126813889  ms
Total computation time: *** 1.75281703472  ms/iter
Total execution time: *** 28429.3179512  ms
Total execution time: *** 71.073294878  ms/iter

---- Test end ----
Filtered hit rate_min: 39.625
Filtered hit rate_max: 78.0
---- Batch latency ----
P99: 85.82210540771484
P90: 80.780029296875
P50: 74.33485984802246

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
13382
26715
40068
53468
66869
80225
93754
107169
120565
133991
Running networks
All done here, cleaning up
Cache hitrate: 45.96125
Bye, world...
Total SLS load time: *** 57670.3634262  ms
Total UNVME lib time: *** 40732.4197292  ms
Total computation time: *** 1180.29952049  ms
Total computation time: *** 2.95074880123  ms/iter
Total execution time: *** 58850.6629467  ms
Total execution time: *** 147.126657367  ms/iter

---- Test end ----
Filtered hit rate_min: 41.9375
Filtered hit rate_max: 66.375
---- Batch latency ----
P99: 164.96777534484863
P90: 159.69491004943848
P50: 149.72710609436035

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
23464
47129
70640
94140
117693
141267
164770
188296
211877
235425
Running networks
All done here, cleaning up
Cache hitrate: 44.9115625
Bye, world...
Total SLS load time: *** 116179.033041  ms
Total UNVME lib time: *** 82279.2122364  ms
Total computation time: *** 1646.39902115  ms
Total computation time: *** 4.11599755287  ms/iter
Total execution time: *** 117825.432062  ms
Total execution time: *** 294.563580155  ms/iter

---- Test end ----
Filtered hit rate_min: 42.140625
Filtered hit rate_max: 58.75
---- Batch latency ----
P99: 323.1489658355713
P90: 313.48609924316406
P50: 298.2931137084961

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
42300
84585
126908
169027
211397
253762
295903
338154
380560
422839
Running networks
All done here, cleaning up
Cache hitrate: 44.777265625
Bye, world...
Total SLS load time: *** 234743.552923  ms
Total UNVME lib time: *** 166789.75749  ms
Total computation time: *** 2084.4271183  ms
Total computation time: *** 5.21106779575  ms/iter
Total execution time: *** 236827.980042  ms
Total execution time: *** 592.069950104  ms/iter

---- Test end ----
Filtered hit rate_min: 43.046875
Filtered hit rate_max: 59.8125
---- Batch latency ----
P99: 635.3909969329834
P90: 616.8980598449707
P50: 597.2249507904053

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
78680
157318
236098
314994
393740
472372
551449
629811
708642
787517
Running networks
All done here, cleaning up
Cache hitrate: 44.58140625
Bye, world...
Total SLS load time: *** 476285.217762  ms
Total UNVME lib time: *** 338249.688864  ms
Total computation time: *** 3033.80322456  ms
Total computation time: *** 7.58450806141  ms/iter
Total execution time: *** 479319.020987  ms
Total execution time: *** 1198.29755247  ms/iter

---- Test end ----
Filtered hit rate_min: 43.65625
Filtered hit rate_max: 58.73437500000001
---- Batch latency ----
P99: 1259.5710754394531
P90: 1234.2770099639893
P50: 1202.4610042572021

--------------------Running (RM3) CPU Test with Batch Size 1--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 1 --max_mini_batch_size 1 --sls_type base --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 2--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 2 --max_mini_batch_size 2 --sls_type base --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 4--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 4 --max_mini_batch_size 4 --sls_type base --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 8--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 8 --max_mini_batch_size 8 --sls_type base --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 16--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 16 --max_mini_batch_size 16 --sls_type base --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 32--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 32 --max_mini_batch_size 32 --sls_type base --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
