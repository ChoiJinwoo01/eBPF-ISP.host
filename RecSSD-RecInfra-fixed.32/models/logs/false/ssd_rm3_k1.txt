Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
Running networks
All done here, cleaning up
Cache hitrate: 45.43375%
Bye, world...
Total SLS load time: *** 9851.8409729  ms
Total UNVME lib time: *** 7954.86426353  ms
Total computation time: *** 602.076053619  ms
Total computation time: *** 1.50519013405  ms/iter
Total execution time: *** 10453.9170265  ms
Total execution time: *** 26.1347925663  ms/iter

---- Test end ----
Filtered hit rate_min: 13.5
Filtered hit rate_max: 57.333333333333336
---- Batch latency ----
P99: 33.76603126525879
P90: 29.654979705810547
P50: 26.02386474609375

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
Running networks
All done here, cleaning up
Cache hitrate: 31.161875%
Bye, world...
Total SLS load time: *** 21184.2412949  ms
Total UNVME lib time: *** 18715.6658173  ms
Total computation time: *** 694.095849991  ms
Total computation time: *** 1.73523962498  ms/iter
Total execution time: *** 21878.3371449  ms
Total execution time: *** 54.6958428621  ms/iter

---- Test end ----
Filtered hit rate_min: 15.5
Filtered hit rate_max: 69.0
---- Batch latency ----
P99: 66.25699996948242
P90: 62.94107437133789
P50: 57.45697021484375

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
Running networks
All done here, cleaning up
Cache hitrate: 29.060625%
Bye, world...
Total SLS load time: *** 42456.646204  ms
Total UNVME lib time: *** 37988.3313179  ms
Total computation time: *** 1124.90797043  ms
Total computation time: *** 2.81226992607  ms/iter
Total execution time: *** 43581.5541744  ms
Total execution time: *** 108.953885436  ms/iter

---- Test end ----
Filtered hit rate_min: 12.875
Filtered hit rate_max: 52.9375
---- Batch latency ----
P99: 131.11090660095215
P90: 124.0990161895752
P50: 111.66691780090332

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
Running networks
All done here, cleaning up
Cache hitrate: 27.41984375%
Bye, world...
Total SLS load time: *** 84209.9580765  ms
Total UNVME lib time: *** 76208.3563805  ms
Total computation time: *** 1587.43095398  ms
Total computation time: *** 3.96857738495  ms/iter
Total execution time: *** 85797.3890305  ms
Total execution time: *** 214.493472576  ms/iter

---- Test end ----
Filtered hit rate_min: 15.125
Filtered hit rate_max: 39.5625
---- Batch latency ----
P99: 253.5569667816162
P90: 240.4041290283203
P50: 213.9120101928711

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
Running networks
All done here, cleaning up
Cache hitrate: 26.301953125%
Bye, world...
Total SLS load time: *** 168753.593683  ms
Total UNVME lib time: *** 153321.912289  ms
Total computation time: *** 2014.57738876  ms
Total computation time: *** 5.03644347191  ms/iter
Total execution time: *** 170768.171072  ms
Total execution time: *** 426.92042768  ms/iter

---- Test end ----
Filtered hit rate_min: 23.71875
Filtered hit rate_max: 28.6875
---- Batch latency ----
P99: 465.07883071899414
P90: 448.3959674835205
P50: 428.0869960784912

Ignoring //caffe2/caffe2/fb/operators/intra_op_parallel:intra_op_parallel_ops as it is not a valid file.
Using CPU...
Generating output dataset
Trying to initialize DLRM
Hello, world!
libFlashRec opened
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
vector_length: 32 / table_length: 1000000
Initialized DLRM Net
Trying to run DLRM for the first time
Ran DLRM for the first time
Created network
Running networks
All done here, cleaning up
Cache hitrate: 26.1154296875%
Bye, world...
Total SLS load time: *** 336622.176886  ms
Total UNVME lib time: *** 306181.978464  ms
Total computation time: *** 3130.35511971  ms
Total computation time: *** 7.82588779926  ms/iter
Total execution time: *** 339752.532005  ms
Total execution time: *** 849.381330013  ms/iter

---- Test end ----
Filtered hit rate_min: 23.390625
Filtered hit rate_max: 31.265625000000004
---- Batch latency ----
P99: 907.1218967437744
P90: 884.1381072998047
P50: 849.2648601531982

--------------------Running (RM3) CPU Test with Batch Size 1--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 1 --max_mini_batch_size 1 --sls_type ndp --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 2--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 2 --max_mini_batch_size 2 --sls_type ndp --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 4--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 4 --max_mini_batch_size 4 --sls_type ndp --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 8--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 8 --max_mini_batch_size 8 --sls_type ndp --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 16--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 16 --max_mini_batch_size 16 --sls_type ndp --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
--------------------Running (RM3) CPU Test with Batch Size 32--------------------

python dlrm_s_caffe2.py --inference_only --inter_op_workers 4 --caffe2_net_type async_dag --model_type dlrm --arch_mlp_top "512-256-1" --arch_mlp_bot "2560-1024-256-32" --arch_sparse_feature_size 32 --arch_embedding_size "1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000-1000000" --num_indices_per_lookup 20 --num_indices_per_lookup_fixed True --arch_interaction_op cat --nepochs 1 --num_batches 400 --mini_batch_size 32 --max_mini_batch_size 32 --sls_type ndp --data_generation synthetic --data_trace_file input_k1/dist_emb_j.log
